<!DOCTYPE html>
<html lang="en-us">

<head>
<link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="description" content="Codoki is a web development and design
blog about the latest trends in web technology.">

<!-- Enable responsiveness on mobile devices-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<title>

Chris Diana &middot; Blog & Tutorials

</title>

<!-- CSS -->
<link href="//cdn.rawgit.com/noelboss/featherlight/1.0.4/release/featherlight.min.css" type="text/css" rel="stylesheet" title="Featherlight Styles" />
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
<link rel="stylesheet" href="../../assets/css/poole.min.css">
<link rel="stylesheet" href="../../assets/css/blog.css">
<!--<link rel="stylesheet" href="/blog/public/css/monokai.css">-->
<!--<link rel="stylesheet" href="/blog/public/css/lanyon.css">-->
<!--<link rel="stylesheet" href="/blog/public/css/codoki.css">-->

<!-- Icons -->
<!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/blog/public/apple-touch-icon-precomposed.png">-->
<!--<link rel="shortcut icon" href="/blog/public/favicon.ico">-->

<!-- JS -->
<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>

<!-- RSS -->
<!--<link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">-->
</head>

<body class="layout">

  <div class="wrap">
    <div class="masthead">
      <div class="container">
        <h3 class="masthead-title">
          <a class="logo-wrap" href="/blog/" title="Home"></a>
          <a class="title" href="/blog/" title="Home">Chris Diana</a>
          <small>Blog & Tutorials</small>
        </h3>
    </div>
  </div>

  <div class="container content">
<hr />

<p>layout: post
title: Best practices for moving a site to live production
comments: true</p>

<h2>tags: [site maintenance]</h2>

<p>Some suggestions on moving a site to live production using subdirectories for zero downtime.</p>

<hr />

<ol>
<li>Modify .htaccess file</li>
</ol>

<p>```
RewriteEngine On
RewriteBase /</p>

<p>RewriteCond %{REQUEST_URI} !(.|/$)
RewriteRule (.*) http://www.site.com/$1/ [R=301,L]</p>

<p>RewriteCond %{REQUEST_URI} !^/subdir
RewriteRule ^(.*)$ subdir/$1 [L]
```
2. In subdirectory of new install, edit configuration.php</p>

<p><code>
public $live_site = 'http://www.yoursite.com';
</code></p>

<h2>### Another Method</h2>

<ol>
<li>Set .htaccess to this in root dir</li>
</ol>

<p><code>
RewriteEngine On
RewriteCond %{REQUEST_URI} !^/subdir/.*$
RewriteRule ^(.*)$ /subdir/$1 [QSA,L]
</code>
2. Set .htaccess to this in sub dir in joomla .htaccess file</p>

<p><code>
RewriteBase /subdir
</code>
3. In subdirectory of new install, edit configuration.php</p>

<p><code>
public $live_site = 'http://www.yoursite.com'
</code></p>
  </div>
  </body>
</html>
